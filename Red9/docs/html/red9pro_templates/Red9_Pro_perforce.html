<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pro_Pack : perforce &mdash; Red9 3.0 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pro_Pack : project" href="Red9_Pro_project.html" />
    <link rel="prev" title="Pro_Pack : optimiser" href="Red9_Pro_optimiser.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Red9<img src="../_static/Red9_ProPack_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_AnimationUtils.html">Red9_AnimationUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Audio.html">Red9_Audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Core.html">Red9_CoreUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_General.html">Red9_General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Meta.html">Red9_Meta</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_PoseSaver.html">Red9_PoseSaver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Setup.html">Red9_Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../red9core_templates/Red9_Tools.html">Red9_Tools</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_anim_map.html">Pro_Pack : anim_map</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_animation.html">Pro_Pack : animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_audio.html">Pro_Pack : audio</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_capture.html">Pro_Pack : capture</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_deformers.html">Pro_Pack : deformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_export.html">Pro_Pack : exporter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_general.html">Pro_Pack : general</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_importexport.html">Pro_Pack : importexport</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_metadata_pro.html">Pro_Pack : metadata_pro</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_optimiser.html">Pro_Pack : optimiser</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Pro_Pack : perforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_project.html">Pro_Pack : project</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_r9data.html">Pro_Pack : r9Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_r9file.html">Pro_Pack : r9file</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_rigutils.html">Pro_Pack : rigutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_shaders.html">Pro_Pack : shaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_skinning.html">Pro_Pack : skinning</a></li>
<li class="toctree-l1"><a class="reference internal" href="Red9_Pro_uibase.html">Pro_Pack : uibase</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_anim_binder.html">Pro_Pack : tools : anim_binder</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_anim_tools.html">Pro_Pack : tools : anim_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_anim_trails.html">Pro_Pack : tools : anim_trails</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_deformer_tools.html">Pro_Pack : tools : deformer_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_health_manager.html">Pro_Pack : tools : health_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_metahuman_tools.html">Pro_Pack : tools : metahuman_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_project_manager.html">Pro_Pack : tools : project_manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools/Red9_Pro_rig_manager.html">Pro_Pack : tools : rig_manager</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="puppet/Red9_Pro_finger_pose_creator.html">Pro_Pack : puppet : finger_pose_creator</a></li>
<li class="toctree-l1"><a class="reference internal" href="puppet/Red9_Pro_ikfk_match.html">Pro_Pack : puppet : ikfk_match</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Red9</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Pro_Pack : perforce</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/red9pro_templates/Red9_Pro_perforce.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="pro-pack-perforce">
<h1>Pro_Pack : perforce<a class="headerlink" href="#pro-pack-perforce" title="Permalink to this headline">¶</a></h1>
<p>ProPack perforce is now the home of the Perforce source control management,
this was moved from the importexport module in May 2025. This is carefully
managed by the Red9 Project systems under the hood.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># import statement for the module via the r9pro decompiler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">Red9.pro_pack</span> <span class="k">import</span> <span class="n">r9pro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r9perforce</span> <span class="o">=</span> <span class="n">r9pro</span><span class="o">.</span><span class="n">r9import</span><span class="p">(</span><span class="s1">&#39;r9perforce&#39;</span><span class="p">)</span>
</pre></div>
</div>
<span class="target" id="module-Red9.pro_pack.core.perforce"></span><p class="rubric">Main Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Red9.pro_pack.core.perforce.P4_sourceControl" title="Red9.pro_pack.core.perforce.P4_sourceControl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">P4_sourceControl</span></code></a>([path,&nbsp;muted])</td>
<td>The P4_sourceControl object is bound to the r9File instance automatically if your project is set to run with Perforce.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="Red9.pro_pack.core.perforce.manage_p4_exception_level">
<code class="descname">manage_p4_exception_level</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.manage_p4_exception_level" title="Permalink to this definition">¶</a></dt>
<dd><p>DECORATOR : forces the P4 exception level to 3 so that errors are raised,
enabling the code to catch and deal with them!</p>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.perforce.P4CheckSignals">
<em class="property">class </em><code class="descname">P4CheckSignals</code><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4CheckSignals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.QObject</span></code></p>
<p>QT Signal for the P4 Monitor</p>
<dl class="attribute">
<dt id="Red9.pro_pack.core.perforce.P4CheckSignals.finished">
<code class="descname">finished</code><em class="property"> = &lt;PySide2.QtCore.Signal object&gt;</em><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4CheckSignals.finished" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.perforce.P4CheckSignals.staticMetaObject">
<code class="descname">staticMetaObject</code><em class="property"> = &lt;PySide2.QtCore.QMetaObject object&gt;</em><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4CheckSignals.staticMetaObject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.perforce.P4CheckWorker">
<em class="property">class </em><code class="descname">P4CheckWorker</code><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4CheckWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.QRunnable</span></code></p>
<p>Main call for the P4_Monitor, tyhis ios called via the QTimer</p>
<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4CheckWorker.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4CheckWorker.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor">
<em class="property">class </em><code class="descname">P4ConnectionMonitor</code><span class="sig-paren">(</span><em>interval_ms=10000</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.QObject</span></code></p>
<p>P4 connection and file status monitor that visually displays the connection and file status 
in the Maya top bar. This is triggered by the PROJECT systems and is optional as there’s a new
project flag available ‘p4_project_monitor’ and if thats False then this doesn’t get triggered.
If True (default) then this monitor QWidget will get added to the Maya top bar and will monitor
the P4 status via a QProcess so it doesn’t hang up the main Maya python thread</p>
<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.p4_status_indicator">
<code class="descname">p4_status_indicator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.p4_status_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>sets up a simple UI element on the main maya shelf for the current p4 link, including the ability to switch</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.set_callbacks">
<code class="descname">set_callbacks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.set_callbacks" title="Permalink to this definition">¶</a></dt>
<dd><p>callbacks set to monitor file changes for the P4 file status</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.file_status_indicator">
<code class="descname">file_status_indicator</code><span class="sig-paren">(</span><em>scenepath=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.file_status_indicator" title="Permalink to this definition">¶</a></dt>
<dd><p>triggered in the callbacks on file open, load or new</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.scene_p4_popup">
<code class="descname">scene_p4_popup</code><span class="sig-paren">(</span><em>draw=True</em>, <em>post_func=None</em>, <em>draw_pos=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.scene_p4_popup" title="Permalink to this definition">¶</a></dt>
<dd><p>based on the file status show a function pop-up relevant to the file status</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.cleanup_process">
<code class="descname">cleanup_process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.cleanup_process" title="Permalink to this definition">¶</a></dt>
<dd><p>safely delete the QProcess</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.set_status">
<code class="descname">set_status</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.set_status" title="Permalink to this definition">¶</a></dt>
<dd><p>set the status to the P4 button</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.refresh_connection">
<code class="descname">refresh_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.refresh_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>refresh the bindings to PROJECT</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>delete the watcher and remove the button from Maya</p>
</dd></dl>

<dl class="attribute">
<dt id="Red9.pro_pack.core.perforce.P4ConnectionMonitor.staticMetaObject">
<code class="descname">staticMetaObject</code><em class="property"> = &lt;PySide2.QtCore.QMetaObject object&gt;</em><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4ConnectionMonitor.staticMetaObject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="Red9.pro_pack.core.perforce.get_p4_status_icon">
<code class="descname">get_p4_status_icon</code><span class="sig-paren">(</span><em>status=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.get_p4_status_icon" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an icon corresponding to the given p4 status, same logic as r9 browser</p>
</dd></dl>

<dl class="class">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl">
<em class="property">class </em><code class="descname">P4_sourceControl</code><span class="sig-paren">(</span><em>path=''</em>, <em>muted=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The P4_sourceControl object is bound to the r9File instance automatically if your project
is set to run with Perforce. This is done through the <em>/Red9_ClientCore/MyClient/resource/client.project</em> file
which Red9 as a consultancy service will usually setup for you OR through the new Project Maya.env variable
(see <strong>project</strong> module help documentation for more details)</p>
<p>The project file is subsequently bound during boot to the PROJECT_DATA object which controls all
aspects of the project and paths used by all the codebase.</p>
<p>To enable Perforce this simple json dict needs the key ‘p4_project’ set to True and P4 must be available.
On boot we test this and set the systems accordingly. If the following does not return ‘perforce’ then
the Perforce environment wasn’t found at boot and all P4 source control will be disabled.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">Red9.pro_pack</span> <span class="k">import</span> <span class="n">PROJECT_DATA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PROJECT_DATA</span><span class="o">.</span><span class="n">source_control</span>
</pre></div>
</div>
<p>Perforce format reference:</p>
<div class="line-block">
<div class="line"><a class="reference external" href="http://www.perforce.com/perforce/doc.current/manuals/p4script/python.programming.html">http://www.perforce.com/perforce/doc.current/manuals/p4script/python.programming.html</a></div>
<div class="line"><a class="reference external" href="http://www.perforce.com/perforce/doc.current/manuals/p4script/03_python.html">http://www.perforce.com/perforce/doc.current/manuals/p4script/03_python.html</a></div>
<div class="line"><a class="reference external" href="https://www.perforce.com/perforce/r14.2/manuals/cmdref/p4_fstat.html">https://www.perforce.com/perforce/r14.2/manuals/cmdref/p4_fstat.html</a></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This accepts either the file pointer or depot folder path if you want to
act on multiple files at once. Ideally folder depot path needs to end in …
to denote that we’re walking into that path.</p>
<p class="last">If you want to clamp to a given format in a folder you can pass the depot path
as ‘//depot/path/to/stuff/…ma’ for example</p>
</div>
<div class="line-block">
<div class="line">TODO: decouple this from Maya so it can be using in native Python (MoBu support etc)</div>
<div class="line">TODO: decouple the connection from PROJECT_DATA and use classmethods to bind to the class itself</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> – the path to work on</li>
<li><strong>muted</strong> – If True we mute all of the actual P4_API calls, turning this class basically into a stub class
this is so that if you have code in your pipeline that calls these functions then they are still available,
they just do nothing, muting the Perforce calls.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>p4_params={}</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>main p4 connect call which takes params to enable us to connect to specific servers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p4_params</strong> – dict with the P4 connection keys in, if not given P4 will connect with the defaults from your environment
p4_params = {port’:, client:’’, user:’’, password:’’}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>simple disconnect from the P4 server</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.connected">
<code class="descname">connected</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.connected" title="Permalink to this definition">¶</a></dt>
<dd><p>a base level valid test so that it’s only called once and managed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> – whether we always re-test the connection or cache it’s state only once,
this is so that if P4 was down when we booted we can force a re-test, else the fact
that it was down on boot is cached and the connection to P4 severed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.refresh_connection">
<code class="descname">refresh_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.refresh_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>refresh the last / current connection, this pulls the p4_params from the PROJECT_DATA._p4_params
which is cached on connect so that we always restore the last connection</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.connection_details">
<code class="descname">connection_details</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.connection_details" title="Permalink to this definition">¶</a></dt>
<dd><p>return and cache the current P4 server connection details for later use if we need to refresh the connection,
this fills in  the PROJECT_DATA._p4_params cache</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.get_application_settings_file">
<em class="property">static </em><code class="descname">get_application_settings_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.get_application_settings_file" title="Permalink to this definition">¶</a></dt>
<dd><p>return the path to the .p4qt/ApplicationSettings.xml</p>
</dd></dl>

<dl class="classmethod">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.connection_map">
<em class="property">classmethod </em><code class="descname">connection_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.connection_map" title="Permalink to this definition">¶</a></dt>
<dd><p>get a dict of available perforce server connections, this uses the .p4qt/ApplicationSettings.xml data
to find all recent connections, similar to the recent connection list shown in the Perforce Helix clientUI</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">we could switch to using the .p4qt/connectionmap.xml data but that xml holds ALL previous connections
and might point to servers that are no longer valid. Using the ApplicationSettings data means that the
last active connections are used instead</p>
</div>
<p>TODO: verify and check this under LINUX</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.path_iswildcard">
<code class="descname">path_iswildcard</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.path_iswildcard" title="Permalink to this definition">¶</a></dt>
<dd><p>check if our given path var is a dir or a single file object, ie endsWith ‘…’ or ‘*’</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.handle_exceptions">
<code class="descname">handle_exceptions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.handle_exceptions" title="Permalink to this definition">¶</a></dt>
<dd><p>specific exception to manage the P4 binding, if any of these are
raised we bail the P4 connection in the PROJECT.SOURCE_CONTROL object</p>
<p>current specific Perforce exceptions handled to raise a bailed=True:</p>
<ul class="simple">
<li>‘TCP receive failed’</li>
<li>‘Partner exited unexpectedly’</li>
<li>‘Your session has expired, please login again’</li>
<li>“has not been enabled by ‘p4 protect’”</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.p4_run">
<code class="descname">p4_run</code><span class="sig-paren">(</span><em>*args</em>, <em>**kws</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.p4_run" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper over the run call so we handle exceptions easier</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.exception_level">
<code class="descname">exception_level</code><span class="sig-paren">(</span><em>level=2</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.exception_level" title="Permalink to this definition">¶</a></dt>
<dd><p>set the P4 API Exception level for P4 calls
The exception level of the P4 instance.</p>
<div class="line-block">
<div class="line">0 : no exceptions are raised. </div>
<div class="line">1 : only errors are raised as exceptions. </div>
<div class="line">2 : warnings are also raised as exceptions. </div>
</div>
<p>The default value is 2.</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.info">
<code class="descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.info" title="Permalink to this definition">¶</a></dt>
<dd><p>get the general Perforce session info</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.username">
<code class="descname">username</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.username" title="Permalink to this definition">¶</a></dt>
<dd><p>return the current “userName” from P4 info keys</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.owner">
<code class="descname">owner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>return the current “owner” from P4</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.client_root">
<code class="descname">client_root</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.client_root" title="Permalink to this definition">¶</a></dt>
<dd><p>return the “clientRoot” from P4 info keys</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.client_name">
<code class="descname">client_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.client_name" title="Permalink to this definition">¶</a></dt>
<dd><p>return the “clientName” from P4 info keys</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.client_host">
<code class="descname">client_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.client_host" title="Permalink to this definition">¶</a></dt>
<dd><p>return the “clientHost” from the P4 info keys</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.client_fetch">
<code class="descname">client_fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.client_fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>get client details: p4.fetch_client()</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.client_set">
<code class="descname">client_set</code><span class="sig-paren">(</span><em>client</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.client_set" title="Permalink to this definition">¶</a></dt>
<dd><p>set the P4 client on the fly</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>client</strong> – new client to set</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.clients">
<code class="descname">clients</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.clients" title="Permalink to this definition">¶</a></dt>
<dd><p>return all available clients for the given user, or current user if not given</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>full</strong> – if True and no user is passed in we inspect the entire P4 database, else
we automatically clamp to just the current user</li>
<li><strong>user</strong> – if passed in we inspect just the given username</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.clients_local">
<code class="descname">clients_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.clients_local" title="Permalink to this definition">¶</a></dt>
<dd><p>return ONLY clients for the current user and against the current Host</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.revision">
<code class="descname">revision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.revision" title="Permalink to this definition">¶</a></dt>
<dd><p>return the current revision that you have in your workspace</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>simple bool, is the file path already in P4? Checked via a simple fstat call</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.exists_local">
<code class="descname">exists_local</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.exists_local" title="Permalink to this definition">¶</a></dt>
<dd><p>os check if the file exists locally. Issue is that P4 can say you have
the file in your workspace but you may have deleted it locally</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.fstat">
<code class="descname">fstat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.fstat" title="Permalink to this definition">¶</a></dt>
<dd><p>get all fstat info for the fileobject, returned as a dict</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.fstat_dir">
<code class="descname">fstat_dir</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.fstat_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>where the path bound in the object is just that, a depot folder path
rather than a file pointer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filetype</strong> – if you want to clamp the fstat to a given file extension</li>
<li><strong>recursive</strong> – append ‘…’ to the search to make it recursive folder</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.is_head">
<code class="descname">is_head</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.is_head" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if you have the head revision in your workspace,
this DOESN’T check if it exists locally however</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.have_rev">
<code class="descname">have_rev</code><span class="sig-paren">(</span><em>rev=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.have_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>return the revision you have locally in your workspace,
if this returns nothing then the file does not exist in your
workspace yet and return False</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rev</strong> – if given we check the version you have against this revision and return a bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.head_revision">
<code class="descname">head_revision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.head_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>head revision number of the fileobject in Perforce</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.have_head">
<code class="descname">have_head</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.have_head" title="Permalink to this definition">¶</a></dt>
<dd><p>The file you have is the Head revision AND exists locally. The issue with P4 is that
you can get the fstat to return that you have the head file in your workspace, but you may
have deleted the local file. This validates both cases.</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.client_file">
<code class="descname">client_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.client_file" title="Permalink to this definition">¶</a></dt>
<dd><p>local ‘client’ path to the fileobject</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.depot_file">
<code class="descname">depot_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.depot_file" title="Permalink to this definition">¶</a></dt>
<dd><p>local ‘depotFile’ path to the fileobject</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.client_parentfolder">
<code class="descname">client_parentfolder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.client_parentfolder" title="Permalink to this definition">¶</a></dt>
<dd><p>return the stripped back parent folder on the client side</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.depot_parentfolder">
<code class="descname">depot_parentfolder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.depot_parentfolder" title="Permalink to this definition">¶</a></dt>
<dd><p>return the stripped back parent folder on the depot side</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.sync">
<code class="descname">sync</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.sync" title="Permalink to this definition">¶</a></dt>
<dd><p>sync the file to headRevision of this fileobject</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>force</strong> – use the force flag when syncing</li>
<li><strong>exists</strong> – ensure that the file exists in the local if not set force</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">if exception_level=0 the except handler will not get called
and therefore things don’t act as expected</p>
</div>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.sync_folder">
<code class="descname">sync_folder</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.sync_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Sync all files in the specified folder with the Perforce server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> – If True, force a re-sync of files even if they appear up to date (-f).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the sync succeeded, False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>checkout the fileobject in P4</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>changelist</strong> – if given use this changelist else use the default</li>
<li><strong>force</strong> – if the file is NOT in your workspace, sync it before checkout,
this also verifies that you haven’t deleted the local version of that file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Not Implemented for safety</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.revert">
<code class="descname">revert</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.revert" title="Permalink to this definition">¶</a></dt>
<dd><p>revert this fileobject</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.revert_unchanged">
<code class="descname">revert_unchanged</code><span class="sig-paren">(</span><em>changelist</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.revert_unchanged" title="Permalink to this definition">¶</a></dt>
<dd><p>revert all unchanged items in the given changelist</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.revert_verbose">
<code class="descname">revert_verbose</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.revert_verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>wrap of revert bit with a verbose confirm pop-up for UI use</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.get_revision">
<code class="descname">get_revision</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.get_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>get a specific revision of this fileobject</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> – revision to get</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.get_pending_changelist_index">
<code class="descname">get_pending_changelist_index</code><span class="sig-paren">(</span><em>changelist</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.get_pending_changelist_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of the first pending changelist whose description
matches the given string, or None if no match is found.</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.get_pending_changelists">
<code class="descname">get_pending_changelists</code><span class="sig-paren">(</span><em>full=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.get_pending_changelists" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of pending (uncommitted) changelists for the current user.</p>
<ul class="simple">
<li>If <cite>full=True</cite>, returns complete changelist dictionaries.</li>
<li>If <cite>full=False</cite>, returns only stripped descriptions.</li>
<li>Returns an empty list if no valid changelists are found or if <cite>self.muted</cite> is True.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.create_changelist">
<code class="descname">create_changelist</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.create_changelist" title="Permalink to this definition">¶</a></dt>
<dd><p>make a fresh changelist with the text given</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> – text to use in the changelist description</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.get_changelist_info">
<code class="descname">get_changelist_info</code><span class="sig-paren">(</span><em>changelist</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.get_changelist_info" title="Permalink to this definition">¶</a></dt>
<dd><p>get the details back on a given changelist for this fileobject</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>changelist</strong> – changelist to get the info from if given</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.add" title="Permalink to this definition">¶</a></dt>
<dd><p>add this fileobject into Perforce</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>changelist</strong> – changelist to add the data to if given</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>mark the fileobject for delete from P4</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>changelist</strong> – changelist to delete the data from if given</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.revert_all">
<code class="descname">revert_all</code><span class="sig-paren">(</span><em>changelist</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.revert_all" title="Permalink to this definition">¶</a></dt>
<dd><p>revert all changes in a given changelist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>changelist</strong> – changelist to revert</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.push_file">
<code class="descname">push_file</code><span class="sig-paren">(</span><em>changelist=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.push_file" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a wrap over checkout and add, if the file already exists
in P4 then we check it out, if it’s a new file that doesn’t exist
then we mark it for add</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>changelist</strong> – changelist to add the fileobject to if given</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.status">
<code class="descname">status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Perforce (P4) status of the file object as a string.</p>
<p>This method analyzes the fstat data of the file and returns a status string that
describes the file’s current state in the Perforce depot and on the local machine.</p>
<p>Possible return values:
- “add”: The file is open for add in the Perforce depot.
- “checkout_me”: The file is checked out (edited) by the current user.
- “checkout_multiple”: The file is checked out by the current user and others.
- “checkout_other”: The file is checked out by another user.
- “deleted_on_p4”: The file has been deleted in the Perforce depot.
- “not_on_hd”: The file is not present on the local hard drive.
- “on_sync”: The file is in sync with the depot.
- “off_sync”: The file is not in sync with the depot.
- “not_on_p4”: The file is not p4 repo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">str
The status string describing the file’s state.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.get_icon">
<code class="descname">get_icon</code><span class="sig-paren">(</span><em>status=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.get_icon" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an icon corresponding to this fileobject p4 status, same logic as r9 browser</p>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.is_folder_in_sync">
<code class="descname">is_folder_in_sync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.is_folder_in_sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether all files in the specified folder are in sync with the Perforce server.</p>
<p>This method runs ‘p4 sync -n folder_path/…’ in preview mode to see if any files
need updating. If no files require syncing, the function returns True; otherwise,
it returns False.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the folder is fully synced, False otherwise.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>StandardError</strong> – If folder_path is not a valid directory.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Red9.pro_pack.core.perforce.P4_sourceControl.scene_p4_popup">
<code class="descname">scene_p4_popup</code><span class="sig-paren">(</span><em>draw=True</em>, <em>post_func=None</em>, <em>draw_pos=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Red9.pro_pack.core.perforce.P4_sourceControl.scene_p4_popup" title="Permalink to this definition">¶</a></dt>
<dd><p>based on the file status show a function pop-up relevant to the file status
and return the generated QtWidgets.QMenu.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>draw</strong> – it True we exec and draw the pop-up menu</li>
<li><strong>post_func</strong> – function pointer to run after the P4 action has been run. Lets you refresh you’re UI after the file has been managed</li>
<li><strong>draw_pos</strong> – if given this is the position to draw the menu, if no, it draws over the cursor position. If you wanted to draw it
under a button for example you’d pass in draw_pos = button.mapToGlobal(button.rect().bottomLeft())</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Red9_Pro_optimiser.html" class="btn btn-neutral float-left" title="Pro_Pack : optimiser" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Red9_Pro_project.html" class="btn btn-neutral float-right" title="Pro_Pack : project" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Red9 Consultancy Limited.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>